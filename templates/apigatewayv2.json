{
  "4xx" : {
    "name"                : "4xx: ${aws_apigatewayv2_api.api.id}",
    "type"                : "metric alert",
    "message"             : "xx Monitor triggered. Notify: ${var.monitor_slack_channel}",
    "query"               : "sum(last_5m):max:aws.apigateway.4xx{apiid:${aws_apigatewayv2_api.api.id}} >: 1",
    "evaluation_delay"    : 900,
    "new_group_delay" : 60,
    "require_full_window" : false,
    "monitor_thresholds" : {
      "critical"          : 1,
      "critical_recovery" : 0
    }
  },
  "5xx" : {
    "name"                : "5xx: ${aws_apigatewayv2_api.api.id}",
    "type"                : "metric alert",
    "message"             : "5xx Monitor triggered. Notify: ${var.monitor_slack_channel}",
    "query"               : "sum(last_5m):max:aws.apigateway.5xx{apiid:${aws_apigatewayv2_api.api.id}} >: 1",
    "evaluation_delay"    : 900,
    "new_group_delay"     : 60,
    "require_full_window" : false,
    "monitor_thresholds" : {
      "critical"          : 1,
      "critical_recovery" : 0
    }
  }
}